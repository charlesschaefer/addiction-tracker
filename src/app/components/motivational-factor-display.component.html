<div class="card p-4 mb-6">
  <h3 class="font-medium text-gray-700 dark:text-gray-200 mb-4">{{ 'Remember why you want to quit' | transloco }}</h3>
  <div class="mb-4">
    <div *ngIf="factor.type === 'text'" class="bg-purple-50 dark:bg-purple-900/40 p-4 rounded-lg border border-purple-100 dark:border-purple-800">
      <p class="text-gray-800 dark:text-gray-100 italic">"{{ factor.content }}"</p>
    </div>
    <div *ngIf="factor.type === 'image'" class="flex justify-center">
      <img [src]="factor.content" [alt]="'Motivational image' | transloco" class="max-h-64 rounded-lg shadow-sm" />
    </div>
    <div *ngIf="factor.type === 'audio'" class="bg-purple-50 dark:bg-purple-900/40 p-4 rounded-lg border border-purple-100 dark:border-purple-800">
      <audio [src]="factor.content" controls class="w-full"></audio>
    </div>
  </div>
  <div *ngIf="feedback.observers.length > 0 && !showFeedback" class="flex justify-center">
    <button
      (click)="showFeedback = true"
      class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"
    >
      {{ 'How does this make you feel?' | transloco }}
    </button>
  </div>
  <div *ngIf="showFeedback" class="mt-4">
    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">{{ 'Did this help with your craving?' | transloco }}</h4>
    <div class="flex flex-wrap gap-2 mb-4">
      <button (click)="handleMotivationalImpact('gave_up')" class="px-3 py-1.5 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-sm hover:bg-green-200 dark:hover:bg-green-800 transition-colors">
        {{ 'I decided not to use' | transloco }}
      </button>
      <button (click)="handleMotivationalImpact('craving_reduced')" class="px-3 py-1.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors">
        {{ 'Craving reduced' | transloco }}
      </button>
      <button (click)="handleMotivationalImpact('craving_increased')" class="px-3 py-1.5 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full text-sm hover:bg-red-200 dark:hover:bg-red-800 transition-colors">
        {{ 'Craving increased' | transloco }}
      </button>
      <button (click)="handleMotivationalImpact('no_change')" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-full text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
        {{ 'No change' | transloco }}
      </button>
    </div>
    <h4 class="text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">{{ 'How does this make you feel emotionally?' | transloco }}</h4>
    <div class="flex gap-2">
      <button (click)="handleEmotionalImpact('happier')" class="px-3 py-1.5 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-full text-sm hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-colors flex items-center">
        <span class="mr-1">ðŸ˜Š</span> {{ 'Happier' | transloco }}
      </button>
      <button (click)="handleEmotionalImpact('sadder')" class="px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors flex items-center">
        <span class="mr-1">ðŸ˜¢</span> {{ 'Sadder' | transloco }}
      </button>
      <button (click)="handleEmotionalImpact('no_change')" class="px-3 py-1.5 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-full text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
        {{ 'No change' | transloco }}
      </button>
    </div>
  </div>
</div>
